[返回目录](/README.md)

运算符 之 二进制处理数学方法
===========================

位运算
----------

整数，在计算机中用二进制的位来表示，C语言提供一些运算符可以直接操作整数中的`位`，称为位运算。

注意，&、|、^运算符都是要做 常用算法转换 的（其中有一步是 Integer Promotion 提升）。

建议只对无符号数做位运算，以减少出错的可能。（平台对有符号数的实现不同）

- 按位的 与、或、异或、取反：

  ~ 取反运算符，也要做 Integer Promotion 的类型提升。所以在C语言中其实并`不存在8位`整数的位运算！操作数在做`位`运算前，都至少被提升为`int型了`。（用8位整数举例，只是为了书写表达方便）

- 移位运算：

  左移 <<、和右移 >>。

  - 左移 << 即乘法

    对二进制数左`移位`操作，就相当于对数字做`乘法`！这比直接做乘法效率快得多。

    向左移一位就相当于乘以 2。

    `so，编译器 可以利用这一点做性能优化，如看到源码中有 i * 8 可编译成 移位 指令而非 乘法指令。`

  - 右移 >> 即除法

    向右移一位就相当于除以 2。
